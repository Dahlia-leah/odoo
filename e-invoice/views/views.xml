<odoo>
  <data>

<record id="view_move_form_inherit" model="ir.ui.view">
    <field name="name">account.move</field>
    <field name="model">account.move</field>
    <field name="inherit_id" ref="account.view_move_form"/>
    <field name="arch" type="xml">

            <xpath expr="//form" position="attributes">
               <attribute name="js_class">e-sign</attribute>
           </xpath>

        <xpath expr="//button[@name='action_post']" position="after">
        <button name="send_e_invoice" type="object" string="Send 0.9 E-invoice" attrs="{'invisible':[('can_send','=',False)]}" groups="e-invoice.group_einvoice_v9"/>
        <button name="get_document_info" type="object" string="Get E-invoice" attrs="{'invisible':[('uuid','=',False)]}"  groups="e-invoice.group_einvoice_user"/>
        <button name="get_document_file" type="object" string="Get E-invoice PDF" attrs="{'invisible':[('uuid','=',False)]}"  groups="e-invoice.group_einvoice_user"/>
        <button name="cancel_e_invoice" type="object" string="Cancel E-invoice" attrs="{'invisible':['|',('documentStatusReason','=',False),('cancelRequestDate','!=',False)]}" groups="e-invoice.group_einvoice_user"/>
<!--         <button name="Esign" string="E-Sign" type="object" attrs="{'invisible':[('can_send','=',False)]}"/>-->
         <button class="e-sign-get" string="Send E-invoice" attrs="{'invisible':[('can_send','=',False)]}"  groups="e-invoice.group_einvoice_v1"/>

        </xpath>
        <xpath expr="//field[@name='payment_reference']" position="after">
                                   <field name="doc_origin" attrs="{'readonly':[('state','!=','draft')]}"/>


        </xpath>

         <xpath expr="//notebook[1]" position="inside">
                  <page id="taxes" name="E-invoice Data" string="E-Invoice Data" groups="e-invoice.group_einvoice_user">
                      <group>
                         <group>
                            <field name="ref_uuid" attrs="{'readonly':[('state','!=','draft')],'invisible':[('move_type','!=','out_refund')]}"/>
                            <field name="uuid"/>
                            <field name="long_id"/>
                            <field name="doc_state"/>
                            <field name="can_send" invisible="1"/>
                        </group>
                          <group>
                               <field name="cancelRequestDate"/>
                            <field name="rejectRequestDate"/>
                            <field name="documentStatusReason" attrs="{'readonly':[('cancelRequestDate','!=',False)]}"/>

                          </group>
                      </group>
                      <group>
                          <group>
                              <field name="publicUrl"/>
                          </group>
                          <group>
                            <button name="open_url" type="object" string="Open Url" attrs="{'invisible':['|',('uuid','=',False),('publicUrl','=',False)]}"/>                          </group>
                      </group>
                  </page>
              </xpath>


        <xpath expr="//field[@name='amount_untaxed']" position="after">
             <field name="discount_totals" attrs="{'invisible':[('move_type','not in',('out_refund','out_invoice'))]}"/>
        </xpath>

    </field>
</record>
      <!-- Inherit Form View to Modify it -->

  </data>
</odoo>